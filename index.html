<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oscar 2025 Predictions Generator</title>
    <style>
        :root {
            --gold: #ffd700;
            --dark-bg: #1a1a1a;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--dark-bg);
            color: white;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            color: var(--gold);
            text-align: center;
        }

        .category-group {
            margin: 2rem 0;
            padding: 1rem;
            border: 2px solid var(--gold);
            border-radius: 8px;
        }

        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }

        select, input {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px 0;
            background: #333;
            color: white;
            border: 1px solid var(--gold);
            border-radius: 4px;
        }

        button {
            background: var(--gold);
            color: var(--dark-bg);
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 5px 10px 0;
        }

        #output {
            display: none;
            margin-top: 2rem;
            padding: 2rem;
            background: white;
            color: var(--dark-bg);
            border-radius: 8px;
            position: relative;
        }

        .watermark {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 12px;
            color: #666;
        }

        /* Hide the form when the output is displayed */
        .hidden {
            display: none;
        }

        /* Style for the buttons inside the prediction card */
        #output button {
            background: var(--dark-bg);
            color: var(--gold);
            border: 1px solid var(--gold);
            margin: 10px 5px 0 0;
        }

        
        #output {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Oscar 2025 Predictions Generator</h1>
        
        <div id="formSection">
            <div class="category-group">
                <h2>The Big Four</h2>
                <label for="actor">Actor in a Leading Role</label>
                <select id="actor" required>
                    <option value="">Select Actor</option>
                </select>

                <label for="actress">Actress in a Leading Role</label>
                <select id="actress" required>
                    <option value="">Select Actress</option>
                </select>

                <label for="director">Directing</label>
                <select id="director" required>
                    <option value="">Select Director</option>
                </select>

                <label for="picture">Best Picture</label>
                <select id="picture" required>
                    <option value="">Select Picture</option>
                </select>
            </div>

            <div id="additionalCategories"></div>
            
            <input type="text" id="userName" placeholder="Your Name (optional)">
            <button onclick="addCategory()">Add Another Category</button>
            <button onclick="generateDesign()">Generate Prediction Card</button>
        </div>

        <div id="output">
            <h2>My Oscar 2025 Predictions</h2>
            <div id="predictionsList"></div>
            <div class="watermark">Generated by oscarpredict2025.com</div>
            <button onclick="downloadCard()">Download Prediction Card</button>
            <button onclick="startOver()">Start Over</button>
        </div>
    </div>

    <!-- Include the html2canvas library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script>
        const nominees = {
            actor: ['Actor 1', 'Actor 2', 'Actor 3', 'Actor 4', 'Actor 5'],
            actress: ['Actress 1', 'Actress 2', 'Actress 3', 'Actress 4', 'Actress 5'],
            director: ['Director 1', 'Director 2', 'Director 3', 'Director 4', 'Director 5'],
            picture: ['Movie 1', 'Movie 2', 'Movie 3', 'Movie 4', 'Movie 5'],
            other: {
                'Cinematography': ['Cinematographer 1', 'Cinematographer 2', 'Cinematographer 3'],
                'Original Screenplay': ['Writer 1', 'Writer 2', 'Writer 3'],
                'Adapted Screenplay': ['Adapter 1', 'Adapter 2', 'Adapter 3'],
                'Visual Effects': ['Movie VFX Team 1', 'Movie VFX Team 2', 'Movie VFX Team 3'],
                'International Feature': ['Film 1', 'Film 2', 'Film 3']
            }
        };

        // Initialize main categories
        function initializeCategories() {
            ['actor', 'actress', 'director', 'picture'].forEach(category => {
                const select = document.getElementById(category);
                nominees[category].forEach(nominee => {
                    const option = document.createElement('option');
                    option.textContent = nominee;
                    option.value = nominee;
                    select.appendChild(option);
                });
            });
        }

        // Add additional category dropdowns
        function addCategory() {
            const container = document.getElementById('additionalCategories');

            // Create a wrapper div
            const categoryGroupDiv = document.createElement('div');
            categoryGroupDiv.className = 'category-group';

            // Create category select
            const categorySelect = document.createElement('select');
            categorySelect.className = 'category-select';
            categorySelect.required = true;

            // Add accessible name using a label
            const categoryLabel = document.createElement('label');
            categoryLabel.textContent = 'Select Category';
            categoryLabel.style.display = 'block';
            categoryLabel.style.marginTop = '10px';

            const defaultOption = document.createElement('option');
            defaultOption.textContent = 'Select Category';
            defaultOption.value = '';
            defaultOption.disabled = true;
            defaultOption.selected = true;
            categorySelect.appendChild(defaultOption);

            Object.keys(nominees.other).forEach(category => {
                // Check if the category has already been added
                const existingCategories = document.querySelectorAll('.category-select');
                let alreadyAdded = false;
                existingCategories.forEach(select => {
                    if (select.value === category) {
                        alreadyAdded = true;
                    }
                });
                if (!alreadyAdded) {
                    const option = document.createElement('option');
                    option.textContent = category;
                    option.value = category;
                    categorySelect.appendChild(option);
                }
            });

            // Create nominee select
            const nomineeSelect = document.createElement('select');
            nomineeSelect.className = 'nominee-select';
            nomineeSelect.required = true;
            nomineeSelect.disabled = true; // Disable until category is selected

            // Add accessible name using a label
            const nomineeLabel = document.createElement('label');
            nomineeLabel.textContent = 'Select Nominee';
            nomineeLabel.style.display = 'block';
            nomineeLabel.style.marginTop = '10px';

            // Add default option to nominee select
            const defaultNomineeOption = document.createElement('option');
            defaultNomineeOption.textContent = 'Select Nominee';
            defaultNomineeOption.value = '';
            defaultNomineeOption.disabled = true;
            defaultNomineeOption.selected = true;
            nomineeSelect.appendChild(defaultNomineeOption);

            // Append elements to the wrapper div
            categoryGroupDiv.appendChild(categoryLabel);
            categoryGroupDiv.appendChild(categorySelect);
            categoryGroupDiv.appendChild(nomineeLabel);
            categoryGroupDiv.appendChild(nomineeSelect);

            // Append the wrapper div to the container
            container.appendChild(categoryGroupDiv);

            // When category is selected, populate nominees
            categorySelect.addEventListener('change', function () {
                const selectedCategory = categorySelect.value;

                // Get the nominees for the selected category
                const nomineesForCategory = nominees.other[selectedCategory] || [];

                // Clear previous options
                nomineeSelect.innerHTML = '';
                nomineeSelect.disabled = false;

                // Add default option
                const defaultNomineeOption = document.createElement('option');
                defaultNomineeOption.textContent = 'Select Nominee';
                defaultNomineeOption.value = '';
                defaultNomineeOption.disabled = true;
                defaultNomineeOption.selected = true;
                nomineeSelect.appendChild(defaultNomineeOption);

                // Populate nominee select
                nomineesForCategory.forEach(nominee => {
                    const option = document.createElement('option');
                    option.textContent = nominee;
                    option.value = nominee;
                    nomineeSelect.appendChild(option);
                });
            });
        }

        // Generate the prediction card
        function generateDesign() {
            const predictions = {
                actor: document.getElementById('actor').value,
                actress: document.getElementById('actress').value,
                director: document.getElementById('director').value,
                picture: document.getElementById('picture').value,
                additional: []
            };

            // Validate main categories
            if (!predictions.actor || !predictions.actress || !predictions.director || !predictions.picture) {
                alert('Please make selections for all main categories.');
                return;
            }

            // Collect additional categories
            const categoryGroups = document.querySelectorAll('#additionalCategories .category-group');

            for (let group of categoryGroups) {
                const categorySelect = group.querySelector('.category-select');
                const nomineeSelect = group.querySelector('.nominee-select');

                if (categorySelect.value && nomineeSelect.value) {
                    predictions.additional.push({
                        category: categorySelect.value,
                        choice: nomineeSelect.value
                    });
                } else {
                    alert('Please select both a category and a nominee for all additional categories.');
                    return;
                }
            }

            // Build output
            const output = document.getElementById('predictionsList');
            output.innerHTML = `
                <p><strong>Actor:</strong> ${predictions.actor}</p>
                <p><strong>Actress:</strong> ${predictions.actress}</p>
                <p><strong>Director:</strong> ${predictions.director}</p>
                <p><strong>Best Picture:</strong> ${predictions.picture}</p>
                ${predictions.additional.map(p => `
                    <p><strong>${p.category}:</strong> ${p.choice}</p>
                `).join('')}
            `;

            // Add user name if provided
            const userName = document.getElementById('userName').value;
            if (userName) {
                output.innerHTML += `<p style="text-align: center; margin-top: 20px;">Predicted by: ${userName}</p>`;
            }

            // Hide the form and show the output
            document.getElementById('formSection').classList.add('hidden');
            document.getElementById('output').style.display = 'block';
            window.scrollTo(0, 0);
        }

        // Download the prediction card 
        function downloadCard() {
            const outputElement = document.getElementById('output');
            document.querySelectorAll('#output button').forEach(button => button.style.display = 'none');
            html2canvas(outputElement).then(canvas => {
                document.querySelectorAll('#output button').forEach(button => button.style.display = '');
                const link = document.createElement('a');
                link.download = 'Oscar2025_Predictions.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Reset the application to start over
        function startOver() {
            // Clear selections
            document.getElementById('actor').value = '';
            document.getElementById('actress').value = '';
            document.getElementById('director').value = '';
            document.getElementById('picture').value = '';
            document.getElementById('userName').value = '';

            // Remove additional categories
            document.getElementById('additionalCategories').innerHTML = '';

            // Hide output and show form
            document.getElementById('output').style.display = 'none';
            document.getElementById('formSection').classList.remove('hidden');

            window.scrollTo(0, 0);
        }

        // Initialize on load
        window.onload = initializeCategories;
    </script>
</body>
</html>